

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Outputs of BIDSonym &mdash; BIDSonym 0.0.1.post4+g2c98d8a documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/copybutton.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
        <script src="_static/clipboard.min.js"></script>
        <script src="_static/copybutton.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Contributing to BIDSonym" href="contributors.html" />
    <link rel="prev" title="Processing details" href="processing_details.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> BIDSonym
          

          
          </a>

          
            
            
              <div class="version">
                0.0.1.post4+g2c98d8a
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage.html">Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="processing_details.html">Processing details</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Outputs of BIDSonym</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#visual-reports">Visual Reports</a></li>
<li class="toctree-l2"><a class="reference internal" href="#imaging-data">Imaging data</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#copied-non-defaced-images">copied non-defaced images</a></li>
<li class="toctree-l3"><a class="reference internal" href="#defaced-images">defaced images</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#sidecar-json-and-metadata-tsv-files">Sidecar JSON and metadata .tsv files</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#metadata-tsv-files">metadata .tsv files</a></li>
<li class="toctree-l3"><a class="reference internal" href="#copied-non-de-identified-sidecar-json-files">copied non-de-identified sidecar JSON files</a></li>
<li class="toctree-l3"><a class="reference internal" href="#de-identified-sidecar-json-files">de-identified sidecar JSON files</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="contributors.html">Contributing to BIDSonym</a></li>
<li class="toctree-l1"><a class="reference internal" href="authors.html">Credits</a></li>
<li class="toctree-l1"><a class="reference internal" href="citing.html">Citing <em>BIDSonym</em></a></li>
<li class="toctree-l1"><a class="reference internal" href="release-history.html">Release History</a></li>
<li class="toctree-l1"><a class="reference internal" href="changes.html">What’s new</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">BIDSonym</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Outputs of BIDSonym</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/outputs.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="outputs-of-bidsonym">
<h1>Outputs of BIDSonym<a class="headerlink" href="#outputs-of-bidsonym" title="Permalink to this headline">¶</a></h1>
<p>BIDSonym generates three broad classes of outcomes:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p><strong>Visual QA (quality assessment) reports</strong>:
one <abbr title="hypertext markup language">HTML</abbr> per subject,
that allows the user a thorough visual assessment of the quality
of de-identification and ensures the transparency of <code class="docutils literal notranslate"><span class="pre">BIDSonym</span></code> operation.</p></li>
<li><p><strong>imaging data</strong> including defaced images in the <cite>BIDS root</cite> directory and
non-defaced images in the <cite>sourcedata/bidsonym</cite> directory.</p></li>
<li><p><strong>sidecar JSON and metadata .tsv files</strong> including de-identified files in the <cite>BIDS root</cite>
directory and not de-identified files in the <cite>sourcedata/bidsonym</cite> directory.</p></li>
</ol>
</div></blockquote>
<div class="section" id="visual-reports">
<h2>Visual Reports<a class="headerlink" href="#visual-reports" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">BIDSonym</span></code> outputs summary reports, written to <code class="docutils literal notranslate"><span class="pre">sourcedata/bidsonym/sub-&lt;subject_label&gt;/sub-&lt;subject_label&gt;.html</span></code>.
These reports provide a quick way to make visual inspection of the de-identification easy.
<a class="reference external" href="_static/sample_report.html">View a sample report.</a> (This sample report includes data from one of the maintainers
(Peer Herholz) who provided the data and agreed to sharing it.)
It includes information on the version <code class="docutils literal notranslate"><span class="pre">BIDSonym</span></code> that was run and how it was run.
Furthermore, multiple graphics each displaying the whole <code class="docutils literal notranslate"><span class="pre">defaced</span> <span class="pre">image</span></code> in 10 slices along different
directions (x,y,z) are included. To evaluate if the <code class="docutils literal notranslate"><span class="pre">defacing</span></code> was too stringent, a <code class="docutils literal notranslate"><span class="pre">brainmask</span></code> created before
the <code class="docutils literal notranslate"><span class="pre">defacing</span></code> is overlaid. The reports additionally include a gif within which the <code class="docutils literal notranslate"><span class="pre">defaced</span> <span class="pre">image</span></code> is scrolled
through each direction.</p>
</div>
<div class="section" id="imaging-data">
<h2>Imaging data<a class="headerlink" href="#imaging-data" title="Permalink to this headline">¶</a></h2>
<p>Regarding <code class="docutils literal notranslate"><span class="pre">Imaging</span> <span class="pre">data</span></code> two types of outputs will be created when running <code class="docutils literal notranslate"><span class="pre">BIDSonym</span></code>:</p>
<div class="section" id="copied-non-defaced-images">
<h3>copied non-defaced images<a class="headerlink" href="#copied-non-defaced-images" title="Permalink to this headline">¶</a></h3>
<p>The non-defaced images that enter <code class="docutils literal notranslate"><span class="pre">BIDSonym</span></code> as input will be copied
to <code class="docutils literal notranslate"><span class="pre">sourcedata/bidsonym/sub-&lt;subject_label&gt;/</span></code> and provide with a <code class="docutils literal notranslate"><span class="pre">no_deid</span></code>
identifier in their filename. For example:
<code class="docutils literal notranslate"><span class="pre">bids_dataset/sub-&lt;subject_label&gt;/anat/sub-&lt;subject_label&gt;_T1w.nii.gz</span></code>
will be copied and renamed to
<code class="docutils literal notranslate"><span class="pre">bids_dataset/sourcedata/bidsonym/sub-&lt;subject_label&gt;/sub-&lt;subject_label&gt;_T1w_no_deid.nii.gz</span></code>.
This step is intended to keep the <code class="docutils literal notranslate"><span class="pre">non-defaced</span> <span class="pre">images</span></code> in case the defacing did not succeed (for
example too much or too little information cut out), so that users can copy the non-defaced images
back to the <code class="docutils literal notranslate"><span class="pre">bids_dataset</span></code> directory and do not need to convert the non-defaced images from <code class="docutils literal notranslate"><span class="pre">DICOM</span></code>
again.</p>
<p><cite>and</cite></p>
</div>
<div class="section" id="defaced-images">
<h3>defaced images<a class="headerlink" href="#defaced-images" title="Permalink to this headline">¶</a></h3>
<p>The images of either a specified participant or the whole group (depending on the <code class="docutils literal notranslate"><span class="pre">analysis_level</span> <span class="pre">parameter</span></code>, please see <a class="reference external" href="./usage.rst">Usage</a>)
in the <code class="docutils literal notranslate"><span class="pre">bids_dataset</span></code> will be defaced via the specified defacing algorithm (please see <a class="reference external" href="./usage.rst">Usage</a>).
Neither the data structure nor the filenames will be changed. For example:
<code class="docutils literal notranslate"><span class="pre">bids_dataset/sub-&lt;subject_label&gt;/anat/sub-&lt;subject_label&gt;_T1w.nii.gz</span></code> will be defaced, overwriting
the input image, so that the <code class="docutils literal notranslate"><span class="pre">bids_dataset</span></code> directory contains only de-identified data which then
can be entered into a processing pipeline and/or publicly shared (once again, depending on the regulations
of the country you’re in and/or acquired the data in).</p>
</div>
</div>
<div class="section" id="sidecar-json-and-metadata-tsv-files">
<h2>Sidecar JSON and metadata .tsv files<a class="headerlink" href="#sidecar-json-and-metadata-tsv-files" title="Permalink to this headline">¶</a></h2>
<p>Regarding <code class="docutils literal notranslate"><span class="pre">Sidecar</span> <span class="pre">JSON</span> <span class="pre">and</span> <span class="pre">metadata</span> <span class="pre">.tsv</span> <span class="pre">files</span></code> three types of outputs will be created when running <code class="docutils literal notranslate"><span class="pre">BIDSonym</span></code>:</p>
<div class="section" id="metadata-tsv-files">
<h3>metadata .tsv files<a class="headerlink" href="#metadata-tsv-files" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">BIDSonym</span></code> will access both the information stored in the <code class="docutils literal notranslate"><span class="pre">header</span></code> of the images and <code class="docutils literal notranslate"><span class="pre">sidecar</span> <span class="pre">JSON</span> <span class="pre">files</span></code>, writing them
to <code class="docutils literal notranslate"><span class="pre">.tsv</span></code> files with two columns: 1. the type of information and 2. if it might be problematic in terms of data sharing. By default,
all information is considered to not be problematic, but the user can provide a list of strings for which will be searched
in the extracted information via the <code class="docutils literal notranslate"><span class="pre">--check_meta_data</span></code> argument. If a certain string, e.g., <code class="docutils literal notranslate"><span class="pre">name</span></code> or <code class="docutils literal notranslate"><span class="pre">location</span></code> is found,
the respective field is marked as <code class="docutils literal notranslate"><span class="pre">yes</span></code> in the <code class="docutils literal notranslate"><span class="pre">problematic</span></code> column.
Thus users can investigate and evaluate if potentially sensitive information is present in the data and, if not done already, indicate
metadata fields which information should be deleted through the <code class="docutils literal notranslate"><span class="pre">--del_meta</span></code> argument. However, only metadata from the
<code class="docutils literal notranslate"><span class="pre">sidecar</span> <span class="pre">JSON</span> <span class="pre">files</span></code> but not the <code class="docutils literal notranslate"><span class="pre">image</span> <span class="pre">headers</span></code> will be deleted.</p>
</div>
<div class="section" id="copied-non-de-identified-sidecar-json-files">
<h3>copied non-de-identified sidecar JSON files<a class="headerlink" href="#copied-non-de-identified-sidecar-json-files" title="Permalink to this headline">¶</a></h3>
<p>Comparable to the <code class="docutils literal notranslate"><span class="pre">non-defaced</span> <span class="pre">images</span></code>, the <code class="docutils literal notranslate"><span class="pre">non-de-identified</span>
<span class="pre">sidecar</span> <span class="pre">JSON</span> <span class="pre">files</span></code> will be copied to <code class="docutils literal notranslate"><span class="pre">sourcedata/bidsonym/sub-&lt;subject_label&gt;/</span></code>
and provided with a <code class="docutils literal notranslate"><span class="pre">no-deid</span></code> identifier. Here’s an example:
<code class="docutils literal notranslate"><span class="pre">bids_dataset/sub-&lt;subject_label&gt;/anat/sub-&lt;subject_label&gt;_T1w.json</span></code>
will be copied and renamed to
<code class="docutils literal notranslate"><span class="pre">bids_dataset/sourcedata/sub-&lt;subject_label&gt;/anat/sub-&lt;subject_label&gt;_T1w_no_deid.json</span></code>.
This step is intended to keep the <code class="docutils literal notranslate"><span class="pre">non-de-identified</span>
<span class="pre">sidecar</span> <span class="pre">JSON</span> <span class="pre">files</span></code> in case the de-identification did not succeed , so that users can copy
the <code class="docutils literal notranslate"><span class="pre">non-de-identified</span> <span class="pre">sidecar</span> <span class="pre">JSON</span> <span class="pre">files</span></code>
back to the <code class="docutils literal notranslate"><span class="pre">bids_dataset</span></code> directory and do not need to do run the conversion again.
Please not that while de-facing only targets <code class="docutils literal notranslate"><span class="pre">structural</span> <span class="pre">data</span></code>, the <code class="docutils literal notranslate"><span class="pre">sidecar</span> <span class="pre">JSON</span> <span class="pre">files</span></code>
of all modalities will be included.</p>
</div>
<div class="section" id="de-identified-sidecar-json-files">
<h3>de-identified sidecar JSON files<a class="headerlink" href="#de-identified-sidecar-json-files" title="Permalink to this headline">¶</a></h3>
<p>If set by the user through the <code class="docutils literal notranslate"><span class="pre">--del_meta</span></code> argument, <code class="docutils literal notranslate"><span class="pre">BIDSonym</span></code> will deleted
the value of indicated <code class="docutils literal notranslate"><span class="pre">metadata</span> <span class="pre">fields</span></code> in the <code class="docutils literal notranslate"><span class="pre">sidecar</span> <span class="pre">JSON</span> <span class="pre">files</span></code> within the
<code class="docutils literal notranslate"><span class="pre">bids_dataset</span></code> directory, replacing them with the string <code class="docutils literal notranslate"><span class="pre">deleted_by_bidsonym</span></code>.
For example, if the <code class="docutils literal notranslate"><span class="pre">metadata</span> <span class="pre">field</span></code> <code class="docutils literal notranslate"><span class="pre">InstitutionAddress</span></code> should be deleted,
the respective value of the <code class="docutils literal notranslate"><span class="pre">sidecar</span> <span class="pre">JSON</span> <span class="pre">files</span></code> will change from e.g.,
<code class="docutils literal notranslate"><span class="pre">InstitutionAddress</span> <span class="pre">:</span> <span class="pre">'A</span> <span class="pre">restaurant</span> <span class="pre">at</span> <span class="pre">the</span> <span class="pre">end</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">Universe.'</span></code>  to
<code class="docutils literal notranslate"><span class="pre">InstitutionAddress</span> <span class="pre">:</span> <span class="pre">'deleted_by_bidsonym'</span></code>.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="contributors.html" class="btn btn-neutral float-right" title="Contributing to BIDSonym" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="processing_details.html" class="btn btn-neutral float-left" title="Processing details" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2018, Peer Herholz

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>